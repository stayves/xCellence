xCellence in Singapore
World Robot Olympiad RoboMission Senior Category. Build, Hardware

В данном цикле статей и гайдов мы, как республиканские и международные призеры WRO Robomission Senior, хотели бы поделиться своим опытом и фишками в данной категории.

Chapter 1

Game elements manipulators

Две пары клешен манипуляторов сортируют и хранят различные игровые элементы.
Две длинные внешние клешни по бокам предназначены
1) для вращения и удерживание игрового элемента Payload:

2) для открытия желтой дверцы на поле и выполнения задании с рычагами:

3) для хватания и перемещение игрового элемента Rocket noses:

Две внутренние розовые клешни предназначены для сортировки и хранения игровых элементов Bolts:

Пространство внутри робота - два внутренних кармана для хранение первых двух отсортированных болтов. Они работают на принципе механизма триггер, где при контакте со внешними клешнями, отсеки открываются и переключаются на мод хранения болтов.

Задняя часть робота включает в себя нововведенную модернизацию робота согласно новому правилу WRO Open Platform. Плата Arduino Nano с связанно блоком EV3 благодаря I2C соединению, который занимает один порт в самом блоке. К этой Arduino плате подключен единственный сервомотор отвечающий за заднюю клешню. Задняя клешня была создана на случай сюрприза или челленджа, которые объявляются во время соревновательных дней.
Робот использовал большое количество 3Д печатных деталей для обеспечения комфортной компоновности робота. Принцип: наименьшее количество использованных деталей на роботе обеспечивает легкую и понятную работу всех частей и деталей робота. На примере фото робота, внутренние клешни, триггерный механизм, удерживающие карманы а также задняя клешня робота были полностью изготовленных из PLA пластика используя выше перечисленный принцип.

Chapter 2
EV3G blocks and innovative software solutions that were used during the world finals.

Команда XLNC Cyrex Используемые зеленые блоки:
Drive:
Drive Block в среде программирования LEGO EV3 используется для синхронного управления двумя моторами, обычно подключенными к портам B и C, что позволяет роботу двигаться как дифференциальной платформе.
Принцип работы нашего блока основан на следующих параметрах:
Steering (руление) - определяет соотношение скоростей левого и правого моторов.
Значение 0 означает движение прямо (оба мотора вращаются с одинаковой скоростью).
Положительные или отрицательные значения вызывают поворот за счет замедления одного мотора и ускорения другого.
Power/Speed (мощность или скорость) - задает скорость вращения моторов.
Duration (длительность) - определяет, как долго будет выполняться движение (по времени, по оборотам или по градусам).
Таким образом, Drive Block преобразует логические команды программы в точное управление скоростью и направлением вращения двух моторов, обеспечивая прямолинейное движение и плавные повороты робота.
Line following
Следование по линии с двумя датчиками цвета основано на принципе обратной связи (feedback control). Датчики, установленные слева и справа под роботом, постоянно измеряют отражённый свет или цвет поверхности.
Принцип работы:
Каждый датчик определяет, находится ли он над линией (например, черной) или над фоном (белым).
На основе показаний датчиков программа корректирует скорость моторов:
Если левый датчик видит линию, робот уменьшает скорость левого мотора и увеличивает скорость правого, чтобы скорректировать траекторию.
Если правый датчик видит линию - выполняется противоположная коррекция.
Если оба датчика видят фон, робот продолжает движение прямо.
Использование двух датчиков повышает точность и устойчивость алгоритма по сравнению с одним датчиком, снижая колебания и позволяя роботу быстрее реагировать на изменение траектории линии.
Turn Angle
Поворот робота на определенный угол в LEGO EV3 реализуется с помощью управления углом вращения мотора, измеряемого встроенным энкодером.
Принцип работы:
Каждый мотор EV3 оснащён энкодером, который отслеживает угол поворота вала в градусах.
Программа задает, на сколько градусов должен повернуться один или оба мотора.
Для поворота на месте обычно:
Один мотор вращается вперёд, а второй - назад, или
Вращается только один мотор, а второй остается неподвижным.
Количество градусов вращения мотора напрямую связано с углом поворота робота и зависит от:
диаметра колёс,
расстояния между колёсами,
типа поворота (на месте или дугой).
Таким образом, Turn Angle обеспечивает точное и воспроизводимое вращение робота за счёт использования энкодеров моторов.

Используемые голубые блоки:
Claw Position
Для управления положением клешни робота в LEGO EV3 Mindstorms используется голубой блок управления мотором, работающий в режиме позиционирования по углу вращения.
Принцип работы основан на использовании встроенного энкодера мотора, который позволяет задавать и точно воспроизводить определенные положения клешни.
В программе каждой числовой величине соответствует заранее определённая позиция клешни:
каждое значение задаёт конкретный угол поворота мотора;
угол поворота напрямую определяет положение клешни (открыта, полуоткрыта, закрыта и т.д.).
При выполнении программы мотор автоматически вращается до указанного угла и останавливается, даже если начальное положение клешни отличается от предыдущего. Это обеспечивает:
повторяемость движений;
высокую точность позиционирования;
независимость результата от времени работы мотора.
Такой подход позволяет использовать числовые значения как логические состояния механизма, упрощая алгоритм управления и повышая надежность работы робота при выполнении манипуляционных задач.

Servo-motor Position
Фишки робота:
Pixy Camera на роботе EV3
Для распознавания цвета игровых элементов на поле в робототехнической системе была использована Pixy Cam, адаптированная для работы с LEGO EV3. Камера обеспечивает обработку изображения в реальном времени и позволяет выделять объекты по цветовым сигнатурам без значительной нагрузки на основной контроллер.
Связь между Pixy Cam и контроллером LEGO EV3 осуществлялась посредством интерфейса I²C (Inter-Integrated Circuit), что обеспечивало стабильную и быструю передачу данных. Использование I²C позволило получать от камеры структурированную информацию, включая идентификатор цветовой сигнатуры и координаты обнаруженного объекта.
Принцип работы системы заключался в следующем:
игровые элементы предварительно обучались в Pixy Cam как отдельные цветовые сигнатуры;
камера анализировала изображение и определяла наличие объекта заданного цвета в поле зрения;
по I²C на EV3 передавались данные о типе цвета и параметрах обнаруженного объекта;
программа робота на основе полученных данных принимала решения о дальнейших действиях (навигация, захват или сортировка элементов).
Применение Pixy Cam с I²C-соединением повысило точность и скорость цветовой идентификации по сравнению с использованием стандартных датчиков цвета, а также позволило эффективно работать в условиях изменяющегося освещения и на больших расстояниях.